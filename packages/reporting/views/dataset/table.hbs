{{#with dataset}}
<div {{datasetID this.name}} >

    <h2>{{this.options.header}}</h2>
    <div>{{this.description}} ({{rows}} rows)</div>

    <div class="table">
<table  class='dataset_table {{this.display.class}}'>
    <thead>
    <tr>{{#each show}}{{#with (lookup ../columns this)}}
        <th class='{{this.class}}' data-colName="{{@key}}">{{this.header}}</th>
    {{/with}}
    {{/each}}
    </tr>
    </thead>
    <tbody>
    {{#each displayData}}
        <tr data-rowNr="{{this.rowNr}}" {{#if ../options.classColumn}}class="{{classColumn this.data ../options.classColumn}}"{{/if}}>
            {{#each ../show}}{{#with (lookup ../data this)}}
                {{#if this.options.template}}
                    <td class="{{this.class}}">{{element this @root.dataset}}</td>
                {{else}}
                    <td class="{{this.class}}">{{this.display}}</td>
                {{/if}}
            {{/with}}
            {{/each}}
        </tr>
    {{/each}}
    </tbody>
</table>
</div>
</div>
{{/with}}